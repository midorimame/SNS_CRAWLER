# Instagram í¬ë¡¤ë§ ì‹œìŠ¤í…œ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [íŒŒì¼ êµ¬ì¡° ë° ì—­í• ](#íŒŒì¼-êµ¬ì¡°-ë°-ì—­í• )
3. [ë°ì´í„° íë¦„ë„](#ë°ì´í„°-íë¦„ë„)
4. [ê° ìŠ¤í¬ë¦½íŠ¸ ìƒì„¸ ì„¤ëª…](#ê°-ìŠ¤í¬ë¦½íŠ¸-ìƒì„¸-ì„¤ëª…)
5. [ì‹¤í–‰ ìˆœì„œ](#ì‹¤í–‰-ìˆœì„œ)
6. [ì…ì¶œë ¥ íŒŒì¼](#ì…ì¶œë ¥-íŒŒì¼)

---

## ì‹œìŠ¤í…œ ê°œìš”

Instagram í•´ì‹œíƒœê·¸ ê¸°ë°˜ ê²Œì‹œë¬¼ ìˆ˜ì§‘ ë° ë¶„ì„ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
Instagram Graph APIì™€ Seleniumì„ ì‚¬ìš©í•˜ì—¬ í•´ì‹œíƒœê·¸ë³„ ê²Œì‹œë¬¼ì„ ìˆ˜ì§‘í•˜ê³ ,
ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ, ì´ë¯¸ì§€/ë¹„ë””ì˜¤ OCR, ì˜¤ë””ì˜¤ ì¶”ì¶œ ë“±ì˜ í›„ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

---

## íŒŒì¼ êµ¬ì¡° ë° ì—­í• 

### 1. `instagram_use_api.py` (1ë‹¨ê³„: API í¬ë¡¤ë§)
**ì—­í• **: Instagram Graph APIë¡œ í•´ì‹œíƒœê·¸ë³„ ê²Œì‹œë¬¼ ìˆ˜ì§‘

**ì£¼ìš” ê¸°ëŠ¥**:
- Instagram Graph APIë¥¼ ì‚¬ìš©í•œ í•´ì‹œíƒœê·¸ë³„ ê²Œì‹œë¬¼ ìˆ˜ì§‘
- Access Token ìœ íš¨ì„± ê²€ì¦
- í•´ì‹œíƒœê·¸ ID ì¡°íšŒ
- ê²Œì‹œë¬¼ ë©”íƒ€ë°ì´í„° ìˆ˜ì§‘ (ìµœëŒ€ 50ê°œ)
- CAROUSEL_ALBUM íƒ€ì…ì€ ì¸ë„¤ì¼ í•˜ë‚˜ë§Œ ìˆ˜ì§‘
- ì¤‘ë³µ ì²´í¬ (permalink, media_id ê¸°ì¤€)
- `media_caption`, `audio_caption` ë³´ì¡´

**ì…ë ¥**: í•´ì‹œíƒœê·¸ ë¦¬ìŠ¤íŠ¸ (ì½”ë“œ ë‚´ ì •ì˜), Access Token
**ì¶œë ¥**: `instagram_media.json`

---

### 2. `instagram_extract_user.py` (2ë‹¨ê³„: ì‚¬ìš©ì í•¸ë“¤ ì¶”ì¶œ)
**ì—­í• **: ê²Œì‹œë¬¼ì—ì„œ ì‘ì„±ì í•¸ë“¤(user_handle) ì¶”ì¶œ

**ì£¼ìš” ê¸°ëŠ¥**:
- `instagram_media.json`ì˜ ê° ê²Œì‹œë¬¼ permalink ì ‘ì†
- Seleniumìœ¼ë¡œ ì‘ì„±ì í•¸ë“¤ ì¶”ì¶œ
- ì¤‘ë³µ í•¸ë“¤ ì œê±°
- `instagram_user.json`ì— ì‚¬ìš©ì ì •ë³´ ì €ì¥ (id, user_handle)

**ì…ë ¥**: `instagram_media.json`
**ì¶œë ¥**: `instagram_user.json`

---

### 3. `instagram_save_userinfo.py` (3ë‹¨ê³„: ì‚¬ìš©ì ìƒì„¸ ì •ë³´ ìˆ˜ì§‘)
**ì—­í• **: ì‚¬ìš©ì í”„ë¡œí•„ì—ì„œ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘

**ì£¼ìš” ê¸°ëŠ¥**:
- ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€ ì ‘ì†
- í”„ë¡œí•„ ì •ë³´ ì¶”ì¶œ:
  - í”„ë¡œí•„ ì´ë¦„ (user_name)
  - ì†Œê°œê¸€ (introduce)
  - ë§í¬ëœ í˜ì´ì§€ (linked_page)
  - íŒ”ë¡œì›Œ ìˆ˜ (followers)
  - ì „í™”ë²ˆí˜¸ ë° íšŒì›ë²ˆí˜¸ (user_num) - ì†Œê°œê¸€ì—ì„œ ì¶”ì¶œ
- ìˆ«ì íŒ¨í„´ ê²€ìƒ‰ (7ìë¦¬/8ìë¦¬)
- `instagram_user.json` ì—…ë°ì´íŠ¸

**ì…ë ¥**: `instagram_user.json`
**ì¶œë ¥**: `instagram_user.json` (ì—…ë°ì´íŠ¸)

---

### 4. `instagram_crawling_postpermalink.py` (4ë‹¨ê³„: ì‚¬ìš©ì ê²Œì‹œë¬¼ permalink ìˆ˜ì§‘)
**ì—­í• **: ì‚¬ìš©ì í”„ë¡œí•„ì—ì„œ ê³¼ê±° ê²Œì‹œë¬¼ permalink ìˆ˜ì§‘

**ì£¼ìš” ê¸°ëŠ¥**:
- ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€ ì ‘ì†
- ê²Œì‹œë¬¼ ì¸ë„¤ì¼ í´ë¦­í•˜ì—¬ permalink ì¶”ì¶œ
- ìŠ¤í¬ë¡¤í•˜ì—¬ ëª¨ë“  ê²Œì‹œë¬¼ ìˆ˜ì§‘
- ì¤‘ë³µ ì²´í¬ (permalink.txt, instagram_media.json ê¸°ì¤€)
- `permalink.txt`ì— ì €ì¥

**ì…ë ¥**: `instagram_user.json`
**ì¶œë ¥**: `permalink.txt`

---

### 5. `instagram_filter_userposts.py` (5ë‹¨ê³„: ê²Œì‹œë¬¼ í•„í„°ë§ ë° ìˆ˜ì§‘)
**ì—­í• **: permalinkë¡œ ì ‘ì†í•˜ì—¬ í•´ì‹œíƒœê·¸ í•„í„°ë§ ë° ê²Œì‹œë¬¼ ìˆ˜ì§‘

**ì£¼ìš” ê¸°ëŠ¥**:
- `permalink.txt`ì—ì„œ permalink ë¡œë“œ
- ê° permalink ì ‘ì†í•˜ì—¬ ê²Œì‹œë¬¼ ì •ë³´ ì¶”ì¶œ
- ì§€ì •ëœ í•´ì‹œíƒœê·¸ê°€ ìˆëŠ” ê²Œì‹œë¬¼ë§Œ í•„í„°ë§
- ê²Œì‹œë¬¼ ì •ë³´ ìˆ˜ì§‘:
  - ì‘ì„±ì ì •ë³´ (user_id, handle, name)
  - ê²Œì‹œ ì‹œê°„
  - ë‚´ìš© (content)
  - í•´ì‹œíƒœê·¸ (hashtags)
  - ë¯¸ë””ì–´ íƒ€ì… (media_type)
  - ì¢‹ì•„ìš”/ëŒ“ê¸€ ìˆ˜
- ì¤‘ë³µ ì²´í¬ (shortcode ê¸°ì¤€)
- `instagram_media.json`ì— ì¶”ê°€

**ì…ë ¥**: `permalink.txt`
**ì¶œë ¥**: `instagram_media.json` (ì¶”ê°€)

---

### 6. `instagram_extract_imgurl.py` (6ë‹¨ê³„: CAROUSEL_ALBUM ë¯¸ë””ì–´ URL ìˆ˜ì§‘)
**ì—­í• **: CAROUSEL_ALBUM íƒ€ì… ê²Œì‹œë¬¼ì˜ ëª¨ë“  ë¯¸ë””ì–´ URL ìˆ˜ì§‘

**ì£¼ìš” ê¸°ëŠ¥**:
- CAROUSEL_ALBUM íƒ€ì… ê²Œì‹œë¬¼ í•„í„°ë§
- ê²Œì‹œë¬¼ í˜ì´ì§€ ì ‘ì†
- ìºëŸ¬ì…€ì˜ ëª¨ë“  ì´ë¯¸ì§€/ë¹„ë””ì˜¤ URL ìˆ˜ì§‘
- ì´ë¯¸ì§€ì—ì„œ OCR ìˆ˜í–‰ (EasyOCR)
- ë¹„ë””ì˜¤ í”„ë ˆì„ì—ì„œ OCR ìˆ˜í–‰ (ì²«/ë§ˆì§€ë§‰ í”„ë ˆì„)
- `media_url`, `media_count`, `media_caption` ì—…ë°ì´íŠ¸

**ì…ë ¥**: `instagram_media.json`
**ì¶œë ¥**: `instagram_media.json` (ì—…ë°ì´íŠ¸)

---

### 7. `instagram_extract_single_media_ocr.py` (7ë‹¨ê³„: ë‹¨ì¼ ë¯¸ë””ì–´ OCR)
**ì—­í• **: IMAGE/VIDEO íƒ€ì… ê²Œì‹œë¬¼ì˜ OCR ì²˜ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- IMAGE/VIDEO íƒ€ì… ê²Œì‹œë¬¼ í•„í„°ë§
- ê²Œì‹œë¬¼ í˜ì´ì§€ ì ‘ì†
- ì´ë¯¸ì§€ì—ì„œ OCR ìˆ˜í–‰
- ë¹„ë””ì˜¤ í”„ë ˆì„ì—ì„œ OCR ìˆ˜í–‰ (blob URLì¸ ê²½ìš°)
- `media_caption` í•„ë“œì— OCR ê²°ê³¼ ì €ì¥

**ì…ë ¥**: `instagram_media.json`
**ì¶œë ¥**: `instagram_media.json` (ì—…ë°ì´íŠ¸)

---

### 8. `instagram_extract_audio_from_json.py` (8ë‹¨ê³„: ì˜¤ë””ì˜¤ ì¶”ì¶œ)
**ì—­í• **: ë¹„ë””ì˜¤ ê²Œì‹œë¬¼ì—ì„œ ì˜¤ë””ì˜¤ ì¶”ì¶œ ë° ìŒì„± ì¸ì‹

**ì£¼ìš” ê¸°ëŠ¥**:
- VIDEO ë° CAROUSEL_ALBUM íƒ€ì… ê²Œì‹œë¬¼ í•„í„°ë§
- ë¹„ë””ì˜¤ê°€ ìˆëŠ” ìºëŸ¬ì…€ë§Œ ì²˜ë¦¬ (is_video="Y")
- ê²Œì‹œë¬¼ í˜ì´ì§€ ì ‘ì†
- ë¹„ë””ì˜¤ì—ì„œ ì˜¤ë””ì˜¤ ì¶”ì¶œ (Selenium + Web Audio API)
- `audio_caption` í•„ë“œì— ì˜¤ë””ì˜¤ ì¶”ì¶œ ê²°ê³¼ ì €ì¥
- `is_video` í•„ë“œ ì„¤ì • (ìºëŸ¬ì…€ì˜ ê²½ìš°)

**ì…ë ¥**: `instagram_media.json`
**ì¶œë ¥**: `instagram_media.json` (ì—…ë°ì´íŠ¸)

---

## ë°ì´í„° íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. instagram_use_api.py                                     â”‚
â”‚    - Graph APIë¡œ í•´ì‹œíƒœê·¸ë³„ ê²Œì‹œë¬¼ ìˆ˜ì§‘                     â”‚
â”‚    - ìµœëŒ€ 50ê°œì”© ìˆ˜ì§‘                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ instagram_media.json      â”‚
         â”‚ (ì´ˆê¸° API ë°ì´í„°)          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. instagram_extract_user.py         â”‚
â”‚    - ì‘ì„±ì í•¸ë“¤ ì¶”ì¶œ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ instagram_user.json        â”‚
         â”‚ (ì‚¬ìš©ì í•¸ë“¤)               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                            â”‚
         â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. save_userinfo.py  â”‚   â”‚ 4. postpermalink.py  â”‚
â”‚    - í”„ë¡œí•„ ì •ë³´      â”‚   â”‚    - permalink ìˆ˜ì§‘  â”‚
â”‚    - user_num ì¶”ì¶œ   â”‚   â”‚    - permalink.txt   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                          â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ permalink.txt             â”‚
         â”‚ (ê²Œì‹œë¬¼ permalink ëª©ë¡)    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. filter_userposts.py               â”‚
â”‚    - í•´ì‹œíƒœê·¸ í•„í„°ë§                  â”‚
â”‚    - ê²Œì‹œë¬¼ ì •ë³´ ìˆ˜ì§‘                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ instagram_media.json      â”‚
         â”‚ (í•„í„°ë§ëœ ê²Œì‹œë¬¼ ì¶”ê°€)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                            â”‚
         â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. extract_imgurl.py â”‚   â”‚ 7. single_media_ocr  â”‚
â”‚    - ìºëŸ¬ì…€ URL ìˆ˜ì§‘  â”‚   â”‚    - ë‹¨ì¼ ë¯¸ë””ì–´ OCR  â”‚
â”‚    - ìºëŸ¬ì…€ OCR       â”‚   â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                          â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ instagram_media.json      â”‚
         â”‚ (OCR ì²˜ë¦¬ ì™„ë£Œ)            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. extract_audio_from_json.py        â”‚
â”‚    - ë¹„ë””ì˜¤ ì˜¤ë””ì˜¤ ì¶”ì¶œ               â”‚
â”‚    - audio_caption ì €ì¥               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ instagram_media.json      â”‚
         â”‚ (ìµœì¢… ë°ì´í„°)              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ê° ìŠ¤í¬ë¦½íŠ¸ ìƒì„¸ ì„¤ëª…

### 1. instagram_use_api.py

#### ì£¼ìš” í•¨ìˆ˜
- `verify_access_token()`: Access Token ìœ íš¨ì„± ê²€ì¦
- `fetch_hashtag_id()`: í•´ì‹œíƒœê·¸ ID ì¡°íšŒ
- `fetch_all_media()`: í•´ì‹œíƒœê·¸ë³„ ê²Œì‹œë¬¼ ìˆ˜ì§‘ (ìµœëŒ€ 50ê°œ)
- `process_media_item()`: ê²Œì‹œë¬¼ ë©”íƒ€ë°ì´í„° ì²˜ë¦¬
- `normalize_permalink()`: permalink ì •ê·œí™”

#### ì²˜ë¦¬ ê³¼ì •
1. Access Token ìœ íš¨ì„± ê²€ì¦
2. í•´ì‹œíƒœê·¸ ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ
3. ê° í•´ì‹œíƒœê·¸ì— ëŒ€í•´:
   - í•´ì‹œíƒœê·¸ ID ì¡°íšŒ
   - Graph APIë¡œ ê²Œì‹œë¬¼ ìˆ˜ì§‘ (ìµœëŒ€ 50ê°œ)
   - ê²Œì‹œë¬¼ ë©”íƒ€ë°ì´í„° ì²˜ë¦¬
   - ì¤‘ë³µ ì²´í¬ (permalink, media_id ê¸°ì¤€)
   - ì‹ ê·œ ê²Œì‹œë¬¼ ì¶”ê°€ ë˜ëŠ” ê¸°ì¡´ ê²Œì‹œë¬¼ ì—…ë°ì´íŠ¸
4. `instagram_media.json` ì €ì¥

#### ì„¤ì • ë³€ìˆ˜
- `hashtags`: ì²˜ë¦¬í•  í•´ì‹œíƒœê·¸ ëª©ë¡ (ì½”ë“œ ë‚´ ì •ì˜)
- `ACCESS_TOKEN`: Instagram Graph API Access Token

---

### 2. instagram_extract_user.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_driver()`: Chrome WebDriver ì„¤ì •
- `extract_user_handle()`: permalinkì—ì„œ user_handle ì¶”ì¶œ
- `load_existing_data()`: ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ

#### ì²˜ë¦¬ ê³¼ì •
1. `instagram_media.json` ë¡œë“œ
2. ê¸°ì¡´ `instagram_user.json` ë¡œë“œ
3. ê° ê²Œì‹œë¬¼ì˜ permalink ì ‘ì†
4. ì‘ì„±ì í•¸ë“¤ ì¶”ì¶œ
5. ì¤‘ë³µ ì²´í¬ (user_handle ê¸°ì¤€)
6. `instagram_user.json`ì— ì €ì¥

---

### 3. instagram_save_userinfo.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_driver()`: Chrome WebDriver ì„¤ì •
- `login_instagram()`: Instagram ë¡œê·¸ì¸
- `extract_user_info()`: ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ ì¶”ì¶œ
- `extract_phone_number()`: ì „í™”ë²ˆí˜¸ ì¶”ì¶œ
- `extract_user_number()`: íšŒì›ë²ˆí˜¸ ì¶”ì¶œ

#### ì²˜ë¦¬ ê³¼ì •
1. `instagram_user.json` ë¡œë“œ
2. Instagram ë¡œê·¸ì¸
3. ê° ì‚¬ìš©ì í”„ë¡œí•„ ì ‘ì†
4. í”„ë¡œí•„ ì •ë³´ ì¶”ì¶œ:
   - í”„ë¡œí•„ ì´ë¦„
   - ì†Œê°œê¸€
   - ë§í¬ëœ í˜ì´ì§€
   - íŒ”ë¡œì›Œ ìˆ˜
5. ì†Œê°œê¸€ì—ì„œ ì „í™”ë²ˆí˜¸ ë° íšŒì›ë²ˆí˜¸ ì¶”ì¶œ
6. ìˆ«ì íŒ¨í„´ ê²€ìƒ‰ (7ìë¦¬/8ìë¦¬)
7. `instagram_user.json` ì—…ë°ì´íŠ¸

---

### 4. instagram_crawling_postpermalink.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_driver()`: Chrome WebDriver ì„¤ì •
- `login_instagram()`: Instagram ë¡œê·¸ì¸
- `load_existing_permalinks()`: ê¸°ì¡´ permalink ë¡œë“œ
- `crawl_user_permalinks()`: ì‚¬ìš©ì ê²Œì‹œë¬¼ permalink ìˆ˜ì§‘

#### ì²˜ë¦¬ ê³¼ì •
1. `instagram_user.json` ë¡œë“œ
2. ê¸°ì¡´ `permalink.txt` ë° `instagram_media.json`ì—ì„œ permalink ë¡œë“œ
3. Instagram ë¡œê·¸ì¸
4. ê° ì‚¬ìš©ì í”„ë¡œí•„ ì ‘ì†
5. ê²Œì‹œë¬¼ ì¸ë„¤ì¼ í´ë¦­í•˜ì—¬ permalink ì¶”ì¶œ
6. ìŠ¤í¬ë¡¤í•˜ì—¬ ëª¨ë“  ê²Œì‹œë¬¼ ìˆ˜ì§‘
7. ì¤‘ë³µ ì²´í¬
8. `permalink.txt`ì— ì €ì¥

---

### 5. instagram_filter_userposts.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_driver()`: Chrome WebDriver ì„¤ì •
- `login_instagram()`: Instagram ë¡œê·¸ì¸
- `load_permalinks_from_file()`: permalink.txt ë¡œë“œ
- `step2_process_permalinks()`: permalink ì²˜ë¦¬ ë° ê²Œì‹œë¬¼ ìˆ˜ì§‘
- `extract_post_info()`: ê²Œì‹œë¬¼ ì •ë³´ ì¶”ì¶œ

#### ì²˜ë¦¬ ê³¼ì •
1. `permalink.txt` ë¡œë“œ
2. ê¸°ì¡´ `instagram_media.json` ë¡œë“œ (ì¤‘ë³µ ì²´í¬ìš©)
3. Instagram ë¡œê·¸ì¸
4. ê° permalink ì ‘ì†
5. ê²Œì‹œë¬¼ ì •ë³´ ì¶”ì¶œ:
   - ì‘ì„±ì ì •ë³´
   - ê²Œì‹œ ì‹œê°„
   - ë‚´ìš©
   - í•´ì‹œíƒœê·¸
   - ë¯¸ë””ì–´ íƒ€ì…
   - ì¢‹ì•„ìš”/ëŒ“ê¸€ ìˆ˜
6. ì§€ì •ëœ í•´ì‹œíƒœê·¸ í•„í„°ë§
7. ì¤‘ë³µ ì²´í¬ (shortcode ê¸°ì¤€)
8. `instagram_media.json`ì— ì¶”ê°€

#### ì„¤ì • ë³€ìˆ˜
- `FILTER_HASHTAGS`: í•„í„°ë§í•  í•´ì‹œíƒœê·¸ ëª©ë¡
- `BATCH_SIZE`: ë°°ì¹˜ ì²˜ë¦¬ í¬ê¸°

---

### 6. instagram_extract_imgurl.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_chrome_driver()`: Chrome WebDriver ì„¤ì •
- `ocr_image_url()`: ì´ë¯¸ì§€ URLì—ì„œ OCR ìˆ˜í–‰
- `ocr_video_frame_from_blob()`: ë¹„ë””ì˜¤ í”„ë ˆì„ì—ì„œ OCR ìˆ˜í–‰

#### ì²˜ë¦¬ ê³¼ì •
1. `instagram_media.json` ë¡œë“œ
2. CAROUSEL_ALBUM íƒ€ì… ê²Œì‹œë¬¼ í•„í„°ë§
3. Instagram ë¡œê·¸ì¸
4. ê° ê²Œì‹œë¬¼ í˜ì´ì§€ ì ‘ì†
5. ìºëŸ¬ì…€ì˜ ëª¨ë“  ë¯¸ë””ì–´ URL ìˆ˜ì§‘
6. ì´ë¯¸ì§€ì—ì„œ OCR ìˆ˜í–‰
7. ë¹„ë””ì˜¤ í”„ë ˆì„ì—ì„œ OCR ìˆ˜í–‰ (ì²«/ë§ˆì§€ë§‰ í”„ë ˆì„)
8. `media_url`, `media_count`, `media_caption` ì—…ë°ì´íŠ¸

---

### 7. instagram_extract_single_media_ocr.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_chrome_driver()`: Chrome WebDriver ì„¤ì •
- `ocr_image_url()`: ì´ë¯¸ì§€ URLì—ì„œ OCR ìˆ˜í–‰
- `ocr_video_frame_from_blob()`: ë¹„ë””ì˜¤ í”„ë ˆì„ì—ì„œ OCR ìˆ˜í–‰

#### ì²˜ë¦¬ ê³¼ì •
1. `instagram_media.json` ë¡œë“œ
2. IMAGE/VIDEO íƒ€ì… ê²Œì‹œë¬¼ í•„í„°ë§
3. Instagram ë¡œê·¸ì¸
4. ê° ê²Œì‹œë¬¼ í˜ì´ì§€ ì ‘ì†
5. ì´ë¯¸ì§€/ë¹„ë””ì˜¤ì—ì„œ OCR ìˆ˜í–‰
6. `media_caption` í•„ë“œì— OCR ê²°ê³¼ ì €ì¥

---

### 8. instagram_extract_audio_from_json.py

#### ì£¼ìš” í•¨ìˆ˜
- `setup_driver()`: Chrome WebDriver ì„¤ì • (instagram_extract_voice.pyì—ì„œ import)
- `login_instagram()`: Instagram ë¡œê·¸ì¸
- `extract_audio_from_single_video()`: ë‹¨ì¼ ë¹„ë””ì˜¤ì—ì„œ ì˜¤ë””ì˜¤ ì¶”ì¶œ
- `extract_audio_from_carousel()`: ìºëŸ¬ì…€ì—ì„œ ì˜¤ë””ì˜¤ ì¶”ì¶œ

#### ì²˜ë¦¬ ê³¼ì •
1. `instagram_media.json` ë¡œë“œ
2. VIDEO ë° CAROUSEL_ALBUM íƒ€ì… ê²Œì‹œë¬¼ í•„í„°ë§
3. Instagram ë¡œê·¸ì¸
4. ê° ê²Œì‹œë¬¼ í˜ì´ì§€ ì ‘ì†
5. ë¹„ë””ì˜¤ì—ì„œ ì˜¤ë””ì˜¤ ì¶”ì¶œ (Web Audio API)
6. `audio_caption` í•„ë“œì— ê²°ê³¼ ì €ì¥
7. `is_video` í•„ë“œ ì„¤ì • (ìºëŸ¬ì…€ì˜ ê²½ìš°)

---

## ì‹¤í–‰ ìˆœì„œ

### í™˜ê²½ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ê°€ìƒí™˜ê²½ ê²½ë¡œë¥¼ ì„¤ì •í•˜ì„¸ìš”:

```bash
VENV_PATH=/path/to/your/venv/bin/activate
```

### ìë™ ì‹¤í–‰ (ê¶Œì¥)
```bash
bash instagram.sh
```

### ìˆ˜ë™ ì‹¤í–‰
```bash
# 1ë‹¨ê³„: API í¬ë¡¤ë§
python instagram_use_api.py

# 2ë‹¨ê³„: ì‚¬ìš©ì í•¸ë“¤ ì¶”ì¶œ
python instagram_extract_user.py

# 3ë‹¨ê³„: ì‚¬ìš©ì ìƒì„¸ ì •ë³´ ìˆ˜ì§‘
python instagram_save_userinfo.py

# 4ë‹¨ê³„: ì‚¬ìš©ì ê²Œì‹œë¬¼ permalink ìˆ˜ì§‘
python instagram_crawling_postpermalink.py

# 5ë‹¨ê³„: ê²Œì‹œë¬¼ í•„í„°ë§ ë° ìˆ˜ì§‘
python instagram_filter_userposts.py

# 6ë‹¨ê³„: CAROUSEL_ALBUM ë¯¸ë””ì–´ URL ìˆ˜ì§‘
python instagram_extract_imgurl.py

# 7ë‹¨ê³„: ë‹¨ì¼ ë¯¸ë””ì–´ OCR
python instagram_extract_single_media_ocr.py

# 8ë‹¨ê³„: ì˜¤ë””ì˜¤ ì¶”ì¶œ
python instagram_extract_audio_from_json.py
```

---

## ì…ì¶œë ¥ íŒŒì¼

### ì…ë ¥ íŒŒì¼
- ì—†ìŒ (í•´ì‹œíƒœê·¸ëŠ” ì½”ë“œ ë‚´ ì •ì˜)
- Access Token (`.env` íŒŒì¼ ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜)

### ì¤‘ê°„ íŒŒì¼
- `instagram_media.json`: í¬ë¡¤ë§ëœ ê²Œì‹œë¬¼ ë°ì´í„°
  - ê° ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸
  - í•„ë“œ: `id`, `permalink`, `handle`, `name`, `content`, `hashtags`, `media_type`, `media_url`, `media_count`, `like_count`, `comment_count`, `media_caption`, `audio_caption`, `is_video` ë“±
- `instagram_user.json`: ì‚¬ìš©ì ì •ë³´
  - í•„ë“œ: `id`, `user_handle`, `user_name`, `introduce`, `linked_page`, `followers`, `user_num`, `phone_num` ë“±
- `permalink.txt`: ê²Œì‹œë¬¼ permalink ëª©ë¡ (í•œ ì¤„ì— í•˜ë‚˜ì”©)

### ì¶œë ¥ íŒŒì¼
- `instagram_media.json`: ìµœì¢… ê²Œì‹œë¬¼ ë°ì´í„°
- `instagram_user.json`: ìµœì¢… ì‚¬ìš©ì ì •ë³´

### ë¡œê·¸ íŒŒì¼
- `instagram.log`: ì „ì²´ í”„ë¡œì„¸ìŠ¤ ë¡œê·¸
- `instagram_recollect_video.log`: ë¹„ë””ì˜¤ URL ì¬ìˆ˜ì§‘ ë¡œê·¸

---

## ì£¼ìš” ë°ì´í„° êµ¬ì¡°

### ê²Œì‹œë¬¼ (instagram_media.json)
```json
{
  "id": "123456789",
  "permalink": "https://www.instagram.com/p/ABC123/",
  "handle": "user_handle",
  "name": "í™ê¸¸ë™",
  "content": "ê²Œì‹œë¬¼ ë‚´ìš©...",
  "hashtags": ["#ë…ì¼í”¼ì— "],
  "media_type": "CAROUSEL_ALBUM",
  "media_url": ["https://..."],
  "media_count": 5,
  "like_count": 10,
  "comment_count": 5,
  "media_caption": ["OCR ê²°ê³¼ í…ìŠ¤íŠ¸"],
  "audio_caption": "ì˜¤ë””ì˜¤ ì¶”ì¶œ ê²°ê³¼",
  "is_video": "Y"
}
```

### ì‚¬ìš©ì ì •ë³´ (instagram_user.json)
```json
{
  "id": "123456789",
  "user_handle": "user_handle",
  "user_name": "í™ê¸¸ë™",
  "introduce": "ì†Œê°œê¸€...",
  "linked_page": "https://...",
  "followers": 1000,
  "user_num": "1234567",
  "phone_num": "010-1234-5678"
}
```

---

## ì£¼ì˜ì‚¬í•­

1. **ì‹¤í–‰ ìˆœì„œ ì¤€ìˆ˜**: ìŠ¤í¬ë¦½íŠ¸ëŠ” ë°˜ë“œì‹œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
2. **ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€**: ê° ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ë¯¸ ì²˜ë¦¬ëœ ë°ì´í„°ë¥¼ ìŠ¤í‚µí•˜ë¯€ë¡œ, ì¤‘ê°„ì— ì¤‘ë‹¨ë˜ì–´ë„ ì¬ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.
3. **Instagram ë¡œê·¸ì¸**: ëŒ€ë¶€ë¶„ì˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” Instagram ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.
4. **Access Token**: `instagram_use_api.py`ëŠ” Instagram Graph API Access Tokenì´ í•„ìš”í•©ë‹ˆë‹¤.
5. **ChromeDriver**: Chrome ë¸Œë¼ìš°ì €ì™€ ChromeDriver ë²„ì „ í˜¸í™˜ì„± í™•ì¸ í•„ìš”
6. **ë„¤íŠ¸ì›Œí¬**: ì•ˆì •ì ì¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²° í•„ìš”
7. **API ì œí•œ**: Instagram Graph APIëŠ” ì¼ì¼ ìš”ì²­ ì œí•œì´ ìˆìŠµë‹ˆë‹¤.

---

## ë¬¸ì œ í•´ê²°

### Access Token ì˜¤ë¥˜
- Access Token ìœ íš¨ì„± í™•ì¸
- Instagram Graph API ê¶Œí•œ í™•ì¸

### ChromeDriver ì˜¤ë¥˜
- Chrome ë¸Œë¼ìš°ì €ì™€ ChromeDriver ë²„ì „ í™•ì¸
- `setup_driver()` í•¨ìˆ˜ì—ì„œ Chrome ê²½ë¡œ í™•ì¸

### OCR ì‹¤íŒ¨
- EasyOCR ëª¨ë¸ì´ ì œëŒ€ë¡œ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
- ì´ë¯¸ì§€/ë¹„ë””ì˜¤ URL ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
- Instagram ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸

### ì˜¤ë””ì˜¤ ì¶”ì¶œ ì‹¤íŒ¨
- ë¹„ë””ì˜¤ URL ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
- Web Audio API ì§€ì› ë¸Œë¼ìš°ì € ì‚¬ìš©
- Instagram ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸

### ë©”ëª¨ë¦¬ ë¶€ì¡±
- ë°°ì¹˜ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ì²˜ë¦¬
- í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì²˜ë¦¬ëŸ‰ ì œí•œ

---
## í•´ê²°í•´ì•¼í•  ê³¼ì œ
**ì˜¤ë˜ëœ ê²Œì‹œë¬¼ ë‚ ì§œ**
ì •í™•í•˜ì§€ëŠ” ì•Šì§€ë§Œ ì˜¤ë˜ëœ ê²Œì‹œë¬¼ ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ìê°€ ê·¸ SNS í”Œë«í¼ì—ì„œ ì–¼ë§ˆë‚˜ í™œë™ê°€ëŠ¥í–ˆëŠ”ì§€ ì¶”ì • ê°€ëŠ¥í•˜ë¯€ë¡œ ì¶”ê°€ í•„ìš”
ë©”íƒ€ ê°œë°œì ID ìƒì„± ë° ì¥ê¸° í† í° ë°œê¸‰
API í† í° ë§Œë£Œ ì‹œ, ë©”íƒ€ ê°œë°œì ê³„ì • ë§Œë“¤ì–´ì„œ ì¥ê¸°í† í° ë°œê¸‰ í•„ìš”.

**ì¿ í‚¤ íŒŒì¼ ìƒì„±**
ì¸ìŠ¤íƒ€ê·¸ë¨ê³¼ í˜ì´ìŠ¤ë¶ ê°™ì€ ê²½ìš° ë¡œê·¸ì¸ì„ í•˜ì§€ ì•Šìœ¼ë©´ ì‘ì„±ì ê°œì¸ í˜ì´ì§€ì— ì ‘ê·¼í•˜ê±°ë‚˜ ê²€ìƒ‰ í™”ë©´ì„ ë³´ì§€ ëª»í•˜ëŠ” ë“± í¬ë¡¤ë§í•  ë•Œ ì–´ë ¤ìš´ ì ì´ ë§ì´ ìƒê¹€.
ì¿ í‚¤ê°€ ë§Œë£Œë˜ê³  ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ ì½”ë“œë¥¼ ëŒë¦¬ëŠ” ê²½ìš°, .pklì„ ê°€ì ¸ì˜¤ëŠ” íŒŒì¼ì„ í•˜ë‚˜ë¥¼ ìœˆë„ìš° í™˜ê²½(GUI)ìœ¼ë¡œ ë³µì‚¬í•œ ë’¤ì— ì½”ë“œ ì‹¤í–‰ ì‹œ, ë¡œê·¸ì¸í•˜ë©´ .pklíŒŒì¼ì„ ìƒì„±í•˜ë¯€ë¡œ, ìƒì„±ëœ .pkl íŒŒì¼ì„ í•´ë‹¹ ì½”ë“œê°€ ìˆë˜ í´ë”ì— ë„£ì–´ì•¼ í•¨.

**ìœ ì§€ë³´ìˆ˜ í•„ìš”**
ì¸ìŠ¤íƒ€ê·¸ë¨ê³¼ í˜ì´ìŠ¤ë¶ì€ html css ì…€ë ‰í„°ì— ë™ì íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ë°”ë€ŒëŠ” í¸ì´ë¼ê³  í•¨. ë§Œì•½ ë°ì´í„°ê°€ ì œëŒ€ë¡œ ìˆ˜ì§‘ì´ ì•ˆ ëœë‹¤ë©´ ê°œë°œì ë„êµ¬ë¥¼ í†µí•´ css ì…€ë ‰í„°ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥.


## ì—…ë°ì´íŠ¸ ì´ë ¥

- 2025-12-12: ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ ì‘ì„±

